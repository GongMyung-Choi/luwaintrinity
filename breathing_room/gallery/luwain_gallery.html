<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ë£¨ì›¨ì¸ ê°¤ëŸ¬ë¦¬ | Luwein Official Exhibition</title>
<style>
body {
  margin: 0;
  font-family: 'Noto Sans KR', sans-serif;
  background: #f8faf9;
  color: #333;
  text-align: center;
}
header {
  background: #af2465;
  color: #fff;
  padding: 22px 0;
  font-size: 1.6rem;
  font-weight: 700;
  letter-spacing: 1px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}
main {
  padding: 40px 0;
}
img {
  max-width: 92%;
  height: auto;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  transition: opacity 1s ease-in-out;
}
footer {
  background: #af2465;
  color: #fff;
  padding: 14px;
  font-size: 0.9rem;
  margin-top: 50px;
  letter-spacing: 0.5px;
}
#counter {
  margin-top: 18px;
  color: #888;
  font-size: 0.9rem;
}
</style>
</head>
<body>

<header>ğŸª¶ ë£¨ì›¨ì¸ ê³µì‹ ì „ì‹œê´€ | LUWEIN GALLERY</header>
<main>
  <img id="luweinImage" src="" alt="ë£¨ì›¨ì¸ ê³µì‹ ì´ë¯¸ì§€ ì „ì‹œ">
  <div id="counter">ì´ë¯¸ì§€ ë¡œë“œ ì¤‘...</div>
</main>
<footer>
  ë£¨ì›¨ì¸ íŠ¸ë¦¬ë‹ˆí‹° ê³µì‹ ê°¤ëŸ¬ë¦¬ Â© 2025 â€” â€œë¹›ì˜ ê²°ì´ íë¥´ê³ , ìš¸ë¦¼ì´ ìë€ë‹¤.â€
</footer>

<script>
// ===== ì„¤ì • =====
const folder = "./images/";      // ì´ë¯¸ì§€ í´ë” ê²½ë¡œ
const changeInterval = 24 * 60 * 60 * 1000; // í•˜ë£¨(24ì‹œê°„)
let images = [];
let current = 0;

// ===== ì´ë¯¸ì§€ ìë™ íƒìƒ‰ =====
async function detectImages(){
  let index = 1;
  images = [];
  while(true){
    const url = `${folder}${index}.jpg`;
    const exists = await checkImage(url);
    if(!exists) break;
    images.push(url);
    index++;
  }

  const counter = document.getElementById("counter");
  if(images.length === 0){
    counter.textContent = "âš ï¸ í‘œì‹œí•  ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.";
    return;
  }
  counter.textContent = `ì´ ${images.length}ì¥ì˜ ì‘í’ˆ`;
  showImage();
}

// ===== ì´ë¯¸ì§€ ì¡´ì¬ í™•ì¸ =====
function checkImage(url){
  return new Promise(resolve=>{
    const img = new Image();
    img.onload = ()=>resolve(true);
    img.onerror = ()=>resolve(false);
    img.src = url + "?v=" + Date.now(); // ìºì‹œ ë°©ì§€
  });
}

// ===== ì´ë¯¸ì§€ ìˆœí™˜ í‘œì‹œ =====
function showImage(){
  const img = document.getElementById("luweinImage");
  img.style.opacity = 0;
  setTimeout(()=>{
    img.src = images[current];
    img.style.opacity = 1;
    document.getElementById("counter").textContent = 
      `${current+1} / ${images.length}`;
    current = (current + 1) % images.length;
  }, 300);
  setTimeout(showImage, changeInterval);
}

// ===== ì‹¤í–‰ =====
detectImages();
</script>

</body>
</html>
