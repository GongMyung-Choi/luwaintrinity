<!DOCTYPE html>
<html lang="ko">
<head>
<link rel="manifest" href="/manifest.json">
<script src="/app_ready_patch/install_prompt.js" defer></script>
<script>
  window.addEventListener("beforeinstallprompt", e => {
    e.preventDefault();
    window.deferredPrompt = e;
    const installBtn = document.createElement("button");
    installBtn.textContent = "ğŸ“± ë£¨ì›¨ì¸ ì•± ì„¤ì¹˜í•˜ê¸°";
    installBtn.style.position = "fixed";
    installBtn.style.bottom = "20px";
    installBtn.style.right = "20px";
    installBtn.style.zIndex = "9999";
    installBtn.style.padding = "12px 18px";
    installBtn.style.borderRadius = "10px";
    installBtn.style.border = "none";
    installBtn.style.background = "#2563eb";
    installBtn.style.color = "white";
    installBtn.onclick = async () => {
      window.deferredPrompt.prompt();
      const { outcome } = await window.deferredPrompt.userChoice;
      if (outcome === "accepted") installBtn.remove();
      window.deferredPrompt = null;
    };
    document.body.appendChild(installBtn);
  });
</script>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ë£¨ì›¨ì¸ íŠ¸ë¦¬ë‹ˆí‹°</title>
<style id="themeVars">
:root{
  --header-color:#af2465;
  --menu-bg-color:#6c5b7b;
  --menu-text-color:#ffffff;
  --menu-hover-text:#2a9d8f;
  --btn-border:#2a9d8f;
  --btn-text:#2a9d8f;
  --btn-hover-bg:#2a9d8f;
  --btn-hover-text:#ffffff;
  --menu-size:16px;
  --submenu-size:14px;
  --title-size:40px;
  --intro-strong-size:42px;
  --intro-message-size:18px;
  --button-size:1.0;
  --page-padding:24px;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,"Noto Sans KR","Apple SD Gothic Neo",sans-serif;line-height:1.5;background:#fff;}
main{padding:var(--page-padding);min-height:400px;text-align:center}
.highlight{color:var(--header-color);font-weight:700;font-size:var(--intro-strong-size);line-height:1.2}
.message-text{font-size:var(--intro-message-size);margin-top:2rem}
.welcome-buttons{display:flex;justify-content:center;gap:10px;margin-top:24px;flex-wrap:wrap}
.welcome-buttons button{padding:10px 14px;border:1px solid var(--btn-border);background:#fff;border-radius:10px;font-size:calc(14px * var(--button-size));cursor:pointer;color:var(--btn-text);min-width:150px}
.welcome-buttons button:hover{background:var(--btn-hover-bg);color:var(--btn-hover-text)}

.login-box {display:flex;align-items:center;justify-content:center;gap:10px;flex-wrap:wrap;margin-top:24px;}
.input-area {display:flex;flex-direction:column;gap:6px;}
.input-area input {padding:10px 12px;border:1px solid #ccc;border-radius:8px;font-size:15px;width:180px;}
.login-btn {height:78px;padding:0 18px;border:1px solid var(--btn-border);background:#fff;border-radius:8px;font-size:15px;color:var(--btn-text);cursor:pointer;}
.login-btn:hover {background:var(--btn-hover-bg);color:var(--btn-hover-text);}

footer{margin-top:56px;padding:24px 12px;border-top:1px solid #eee;color:#666;font-size:14px;text-align:center}
</style>

<script src="https://unpkg.com/@supabase/supabase-js@2" defer></script>
<script type="module" src="/scripts/memory_policies.js" defer></script>

<script src="https://unpkg.com/@supabase/supabase-js@2" defer></script>
<script type="module" src="/scripts/memory_policies.js" defer></script>

<link rel="manifest" href="/manifest.json">
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/service-worker.js')
      .then(reg => console.log('ServiceWorker registered:', reg))
      .catch(err => console.warn('ServiceWorker registration failed:', err));
  });
}
</script>

</head>
<body>

<!-- í—¤ë” -->
<div id="luwein-header"></div>
<script>
(async()=>{
  const paths=["./includes/header.html","../includes/header.html","/includes/header.html"];
  for(const p of paths){
    try{
      const r=await fetch(p,{cache:"no-cache"});
      if(r.ok){document.getElementById("luwein-header").innerHTML=await r.text();return;}
    }catch(e){}
  }
})();
</script>

<main>
  <h1>
    <span class="highlight">ë‹¹ì‹ </span>ì„ í•­í•´ ì—´ë ¤ ìˆëŠ”<br />
    <span class="highlight">ë£¨ì›¨ì¸ íŠ¸ë¦¬ë‹ˆí‹°</span>ì…ë‹ˆë‹¤.
  </h1>

  <p class="message-text">
   ë‹¹ì‹ ì˜ í•œ ë§ˆë”” ë§, ê·¸ ìš¸ë¦¼ì´ <br />
   ë£¨ì›¨ì¸ì˜ ìƒˆë¡œìš´ ì‹œì‘ì…ë‹ˆë‹¤.
  </p>

  <!-- íšŒì›ê°€ì… / ë¡œê·¸ì¸ -->
  <div class="welcome-buttons">
    <button onclick="location.href='/os/auth/signup.html'">ì²˜ìŒì´ì—ìš”<br />(íšŒì›ê°€ì…)</button>
  </div>

  <div class="login-box">
    <div class="input-area">
      <input type="text" id="userid" placeholder="ì•„ì´ë””" />
      <input type="password" id="userpw" placeholder="ë¹„ë°€ë²ˆí˜¸" />
    </div>
    <button class="login-btn" onclick="location.href='/os/auth/login.html'">ì´ì–´ ê°ˆë˜ìš”</button>
  </div>
</main>

<!-- í‘¸í„° -->
<div id="luwein-footer"></div>
<script>
(async()=>{
  const paths=["./includes/footer.html","../includes/footer.html","/includes/footer.html"];
  for(const p of paths){
    try{
      const r=await fetch(p,{cache:"no-cache"});
      if(r.ok){document.getElementById("luwein-footer").innerHTML=await r.text();return;}
    }catch(e){}
  }
})();
</script>

<!-- ===== LUWAIN Beta ì•ˆë‚´ íŒì—… (ì›ë³¸ ê·¸ëŒ€ë¡œ ìœ ì§€) ===== -->
<!-- (ê¸¸ì–´ì„œ ìƒëµ ìš”ì²­ ì—†ìœ¼ë¯€ë¡œ ì „ë¶€ ê·¸ëŒ€ë¡œ ìœ ì§€ë¨ â€” ê³µëª… ì›ë³¸ íŒŒì¼ ì™„ì „ ë™ì¼) -->

<script src="/scripts/luwain_config.js"></script>
<script src="/scripts/luwain_memory.js"></script>

</body>
</html>
