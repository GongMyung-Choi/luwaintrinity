<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Human Books Index | ë£¨ì›¨ì¸ ë„ì„œê´€</title>
<link rel="stylesheet" href="/styles/library.css" />
</head>
<body>
<h1>ğŸ“— Human Books Index</h1>
<div id="book-list">Loading books...</div>

<script>
async function loadBooks() {
  const response = await fetch('/goods/library/metadata.json');
  const allMetadata = await response.json();

  const container = document.getElementById('book-list');
  container.innerHTML = '';

  const finished = allMetadata.filter(meta => meta.status === 'finished');
  const list = document.createElement('ul');

  finished.forEach(meta => {
    const item = document.createElement('li');
    item.innerHTML = `
      <strong>${meta.title}</strong> (${meta.author}) âœ…<br>
      <em>${meta.summary}</em><br>
      <small>ê²½ë¡œ: ${meta.path}</small>
    `;
    list.appendChild(item);
  });

  if (!finished.length) container.innerHTML = 'ì•„ì§ ì™„ì„±ëœ ë„ì„œê°€ ì—†ìŠµë‹ˆë‹¤.';
  else container.appendChild(list);
}

loadBooks().catch(err => {
  document.getElementById('book-list').innerText = 'âŒ Error loading metadata.json';
  console.error(err);
});
</script>
</body>
</html>
