<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ìš¸ë¦¼ ë†€ì´í„° | Resonance Playground</title>
<style>
:root{
  --accent:#6c5b7b;
  --highlight:#2a9d8f;
  --bg:#ffffff;
  --font:'Noto Sans KR',sans-serif;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:var(--font);
  background:var(--bg);
  color:#333;
  display:flex;
  flex-direction:column;
  min-height:100vh;
  text-align:center;
}
header{
  color:var(--accent);
  font-weight:800;
  font-size:1.6rem;
  padding:18px;
  border-bottom:2px solid #eee;
}
main{
  flex:1;
  max-width:900px;
  margin:0 auto;
  padding:30px 20px;
}
textarea{
  width:100%;
  border:1px solid #ddd;
  border-radius:10px;
  padding:10px;
  font-family:inherit;
  font-size:1rem;
  resize:none;
}
button{
  background:var(--highlight);
  color:#fff;
  border:none;
  border-radius:10px;
  padding:10px 16px;
  font-size:1rem;
  cursor:pointer;
  margin-top:12px;
}
button:hover{opacity:.9;}
#canvasBox{
  margin-top:30px;
  background:#fafafa;
  border:1px solid #eee;
  border-radius:14px;
  height:200px;
  position:relative;
  overflow:hidden;
}
.wave{
  position:absolute;
  bottom:0;
  width:60px;
  background:var(--highlight);
  border-radius:8px 8px 0 0;
  opacity:.6;
  animation:waveAnim 1s infinite ease-in-out;
}
@keyframes waveAnim{
  0%,100%{transform:scaleY(.3);}
  50%{transform:scaleY(1);}
}
footer{
  padding:14px;
  color:#888;
  border-top:1px solid #eee;
  font-size:.9rem;
}
.result{
  margin-top:20px;
  color:#444;
  font-size:1.1rem;
}
select,input[type=range]{
  margin:10px;
  padding:6px;
  border-radius:8px;
  border:1px solid #ccc;
}
</style>
<!-- header.html ì˜ </head> ë°”ë¡œ ìœ„ìª½ì— ì¶”ê°€ -->
<script src="https://unpkg.com/@supabase/supabase-js@2" defer></script>
<script type="module" src="/scripts/memory_policies.js" defer></script>
<link rel="manifest" href="/manifest.json">
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/service-worker.js')
      .then(reg => console.log('ServiceWorker registered:', reg))
      .catch(err => console.warn('ServiceWorker registration failed:', err));
  });
}
</script>

</head>
<body>

<header>ğŸ­ ìš¸ë¦¼ ë†€ì´í„° | Resonance Playground</header>

<main>
  <h1>ì–¸ì–´ì˜ ìš¸ë¦¼ì„ ì‹œê°ìœ¼ë¡œ í‘œí˜„í•´ë³´ì„¸ìš”</h1>
  <p>ë¬¸ì¥ì„ ì…ë ¥í•˜ê³  ê°ì • í†¤, ì†ë„, ê°•ë„ë¥¼ ì¡°ì ˆí•´ë³´ì„¸ìš”.</p>

  <textarea id="text" rows="3" placeholder="ì˜ˆ: ì˜¤ëŠ˜ì€ í•˜ëŠ˜ë¹›ì´ ì°¸ í¬ê·¼í•˜ë„¤ìš”."></textarea>

  <div>
    <label>ê°ì • í†¤</label>
    <select id="tone">
      <option value="calm">ì”ì”í•¨</option>
      <option value="bright">ë°ìŒ</option>
      <option value="strong">ê°•ë ¬í•¨</option>
      <option value="sad">ìŠ¬í””</option>
    </select>

    <label>ì†ë„</label>
    <input type="range" id="speed" min="1" max="10" value="5">

    <label>ê°•ë„</label>
    <input type="range" id="intensity" min="1" max="10" value="5">
  </div>

  <button id="simulate">ìš¸ë¦¼ ë³´ê¸°</button>

  <div id="canvasBox"></div>
  <div class="result" id="result"></div>
</main>

<footer>ë£¨ì›¨ì¸ ì–¸ì–´ì—°êµ¬ì†Œ Â· ìš¸ë¦¼ì˜ ì–¸ì–´ Â© 2025</footer>

<script>
const canvas=document.getElementById('canvasBox');
const result=document.getElementById('result');

function createWave(n,color,height,speed){
  canvas.innerHTML='';
  for(let i=0;i<n;i++){
    const w=document.createElement('div');
    w.className='wave';
    w.style.left=`${i*70+10}px`;
    w.style.height=`${height}px`;
    w.style.background=color;
    w.style.animationDuration=`${speed}s`;
    canvas.appendChild(w);
  }
}

document.getElementById('simulate').addEventListener('click',()=>{
  const text=document.getElementById('text').value.trim();
  const tone=document.getElementById('tone').value;
  const speed=document.getElementById('speed').value;
  const intensity=document.getElementById('intensity').value;

  if(!text){alert('ë¬¸ì¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');return;}

  let color='#2a9d8f';
  let height=80;
  let toneDesc='';

  switch(tone){
    case 'calm': color='#7dc7b5'; height=70; toneDesc='ì”ì”í•˜ê³  ë¶€ë“œëŸ½ê²Œ'; break;
    case 'bright': color='#ffb6c1'; height=100; toneDesc='ë°ê³  ìƒê¸° ìˆê²Œ'; break;
    case 'strong': color='#af2465'; height=130; toneDesc='ê°•ë ¬í•˜ê³  í™•ì‹¤í•˜ê²Œ'; break;
    case 'sad': color='#6c5b7b'; height=60; toneDesc='ì¡°ìš©í•˜ê³  ì„œëŠ˜í•˜ê²Œ'; break;
  }

  const n=Math.floor(intensity/2)+5;
  const spd=1.2-(speed/20);
  createWave(n,color,height,spd);

  result.textContent=`"${text}" â€” ${toneDesc} (${speed}ì†, ê°•ë„ ${intensity})`;
});
</script>
<!-- âœ… í—¤ë” -->
<div id="luwein-header"></div>
<script>
(async()=>{
  const paths=["../includes/header.html","../../includes/header.html","/includes/header.html"];
  for(const p of paths){
    try{
      const r=await fetch(p,{cache:"no-cache"});
      if(r.ok){document.getElementById("luwein-header").innerHTML=await r.text();return;}
    }catch(e){}
  }
})();
</script>

<!-- âœ… í‘¸í„° -->
<div id="luwein-footer"></div>
<script>
(async()=>{
  const paths=["../includes/footer.html","../../includes/footer.html","/includes/footer.html"];
  for(const p of paths){
    try{
      const r=await fetch(p,{cache:"no-cache"});
      if(r.ok){document.getElementById("luwein-footer").innerHTML=await r.text();return;}
    }catch(e){}
  }
})();
</script>
</body>
</html>
