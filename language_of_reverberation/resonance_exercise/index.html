<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ìš¸ë¦¼ ì—°ìŠµ | Resonance Exercise</title>
<style>
:root{
  --accent:#6c5b7b;
  --highlight:#2a9d8f;
  --font:'Noto Sans KR',sans-serif;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:var(--font);
  background:#fff;
  color:#333;
  padding:40px 24px 60px;
  line-height:1.8;
  max-width:960px;
  margin-inline:auto;
}
h1{color:var(--accent);font-size:2rem;margin-bottom:8px;}
h2{color:var(--highlight);margin-top:26px;font-size:1.2rem;}
p{margin:10px 0;}
blockquote{
  background:#f8f7fa;
  border-left:4px solid var(--accent);
  padding:12px 16px;
  color:#555;
  font-style:italic;
  border-radius:8px;
}
.exercise-box{
  border:1px solid #eee;
  border-radius:12px;
  padding:16px;
  background:#fafafa;
  margin:14px 0;
}
button{
  background:var(--highlight);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:10px 16px;
  font-size:1rem;
  cursor:pointer;
}
button:hover{opacity:.9;}
.progress{
  width:100%;
  height:8px;
  background:#e0e0e0;
  border-radius:6px;
  overflow:hidden;
  margin-top:10px;
}
.bar{
  width:0%;
  height:100%;
  background:var(--highlight);
  transition:width .2s;
}
footer{
  margin-top:30px;
  color:#888;
  font-size:.9rem;
  text-align:right;
}
</style>
<!-- header.html ì˜ </head> ë°”ë¡œ ìœ„ìª½ì— ì¶”ê°€ -->
<script src="https://unpkg.com/@supabase/supabase-js@2" defer></script>
<script type="module" src="/scripts/memory_policies.js" defer></script>
<link rel="manifest" href="/manifest.json">
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/service-worker.js')
      .then(reg => console.log('ServiceWorker registered:', reg))
      .catch(err => console.warn('ServiceWorker registration failed:', err));
  });
}
</script>

</head>
<body>

<h1>ìš¸ë¦¼ ì—°ìŠµ</h1>
<p>
ìš¸ë¦¼ì˜ ì–¸ì–´ë¥¼ ëª¸ìœ¼ë¡œ ìµíˆëŠ” ì§§ì€ ë£¨í‹´ì…ë‹ˆë‹¤.<br>
ë§¤ì¼ 3ë¶„, ê°„ë‹¨í•œ ë°œì„± í›ˆë ¨ìœ¼ë¡œ ë§ì˜ ê·¼ìœ¡ì„ ê¹¨ì›Œ ë³´ì„¸ìš”.
</p>

<blockquote>
â€œì–¸ì–´ëŠ” í˜¸í¡ì˜ ë¦¬ë“¬ ìœ„ì— ì„œ ìˆë‹¤.â€  
â€” ë£¨ì›¨ì¸ ë°œì„± êµë³¸
</blockquote>

<h2>1. ì…ìˆ  ìš¸ë¦¼ í’€ê¸°</h2>
<div class="exercise-box">
  <p>ì…ìˆ ì„ ê°€ë³ê²Œ ë‹«ê³  <b>â€œë¸Œë¥´ë¥´ë¥´â€</b> í•˜ë©° ë–¨ë ¤ ë³´ì„¸ìš”.  
  ê¸´ì¥ì„ í‘¸ëŠ” ë™ì‹œì— ìš¸ë¦¼ì´ ì–¼êµ´ ì „ì²´ë¡œ í™•ì‚°ë©ë‹ˆë‹¤.</p>
  <button onclick="startTimer(10,this)">â±ï¸ 10ì´ˆê°„ ì—°ìŠµ</button>
  <div class="progress"><div class="bar"></div></div>
</div>

<h2>2. ëª¨ìŒ ë°œì„±</h2>
<div class="exercise-box">
  <p>â€˜ì•„â€“ì—â€“ì´â€“ì˜¤â€“ìš°â€“â€™ ìˆœì„œë¡œ ë°œì„±í•˜ë©°  
  ìš¸ë¦¼ì´ ì…ì²œì¥, ì½”, ê°€ìŠ´ìœ¼ë¡œ ì–´ë–»ê²Œ ì´ë™í•˜ëŠ”ì§€ ëŠê»´ë³´ì„¸ìš”.</p>
  <button onclick="startTimer(15,this)">ğŸ¤ 15ì´ˆê°„ ì—°ìŠµ</button>
  <div class="progress"><div class="bar"></div></div>
</div>

<h2>3. ë¦¬ë“¬ í˜¸í¡</h2>
<div class="exercise-box">
  <p>4ì´ˆ ë“¤ì´ë§ˆì‹œê³ , 4ì´ˆ ë©ˆì¶”ê³ , 4ì´ˆ ë‚´ì‰¬ê¸°.  
  ì•„ë˜ì˜ ì›ì´ ì»¤ì¡Œë‹¤ ì‘ì•„ì§€ë©° ë¦¬ë“¬ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.</p>
  <canvas id="breathCircle" width="180" height="180"></canvas>
</div>

<h2>4. ë‚˜ì˜ ìš¸ë¦¼ ê¸°ë¡</h2>
<p>
ë§¤ì¼ì˜ ë°œì„± ë£¨í‹´ì´ ëë‚˜ë©´ ëŠë‚€ ì ì„ ë©”ëª¨í•˜ì„¸ìš”.<br>
ì´ ê¸°ë¡ì€ ìš¸ë¦¼ ì¼ì§€(Resonance_Log)ì™€ ì—°ë™ë©ë‹ˆë‹¤.
</p>
<textarea id="memo" rows="4" placeholder="ì˜¤ëŠ˜ì˜ ìš¸ë¦¼ ëŠë‚Œì„ ì ì–´ë³´ì„¸ìš”." style="width:100%;padding:10px;border:1px solid #e9e9ee;border-radius:10px"></textarea>
<div style="margin-top:10px;">
  <button onclick="saveMemo()">ì €ì¥</button>
  <p id="saveStatus" style="color:#666;margin-top:6px;">ê¸°ë¡ ì „</p>
</div>

<footer>ë£¨ì›¨ì¸ ì–¸ì–´ì—°êµ¬ì†Œ Â· ìš¸ë¦¼ ì—°ìŠµ Â© 2025</footer>

<script>
function startTimer(sec,btn){
  const box=btn.parentElement;
  const bar=box.querySelector('.bar');
  btn.disabled=true; bar.style.width='0%';
  let t=0;
  const timer=setInterval(()=>{
    t+=0.2; bar.style.width=(t/sec*100)+'%';
    if(t>=sec){clearInterval(timer); btn.disabled=false; bar.style.width='100%';}
  },200);
}

// í˜¸í¡ ì› ì‹œê°í™”
const canvas=document.getElementById('breathCircle');
if(canvas){
  const ctx=canvas.getContext('2d');
  let frame=0;
  function draw(){
    frame+=0.02;
    const r=60+Math.sin(frame)*20;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.beginPath();
    ctx.arc(90,90,r,0,Math.PI*2);
    ctx.fillStyle='rgba(42,157,143,0.15)';
    ctx.fill();
    requestAnimationFrame(draw);
  }
  draw();
}

// ë©”ëª¨ ì €ì¥
function saveMemo(){
  const text=document.getElementById('memo').value.trim();
  if(!text){alert('ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”.');return;}
  const list=JSON.parse(localStorage.getItem('reverb_exercise')||'[]');
  list.unshift({text,at:new Date().toLocaleString()});
  localStorage.setItem('reverb_exercise',JSON.stringify(list));
  document.getElementById('saveStatus').textContent='ì €ì¥ë¨ ('+new Date().toLocaleTimeString()+')';
  document.getElementById('memo').value='';
}
</script>
<!-- âœ… í—¤ë” -->
<div id="luwein-header"></div>
<script>
(async()=>{
  const paths=["../includes/header.html","../../includes/header.html","/includes/header.html"];
  for(const p of paths){
    try{
      const r=await fetch(p,{cache:"no-cache"});
      if(r.ok){document.getElementById("luwein-header").innerHTML=await r.text();return;}
    }catch(e){}
  }
})();
</script>

<!-- âœ… í‘¸í„° -->
<div id="luwein-footer"></div>
<script>
(async()=>{
  const paths=["../includes/footer.html","../../includes/footer.html","/includes/footer.html"];
  for(const p of paths){
    try{
      const r=await fetch(p,{cache:"no-cache"});
      if(r.ok){document.getElementById("luwein-footer").innerHTML=await r.text();return;}
    }catch(e){}
  }
})();
</script>
</body>
</html>
