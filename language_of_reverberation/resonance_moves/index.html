<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ìš¸ë¦¼ì²´ì¡° | Resonance Moves</title>
<style>
:root{
  --accent:#6c5b7b;
  --highlight:#2a9d8f;
  --bg:#ffffff;
  --font:'Noto Sans KR',sans-serif;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:var(--font);
  background:var(--bg);
  color:#333;
  display:flex;
  flex-direction:column;
  min-height:100vh;
}
header{
  color:var(--accent);
  font-weight:800;
  font-size:1.6rem;
  text-align:center;
  padding:18px;
  border-bottom:2px solid #eee;
}
main{
  flex:1;
  max-width:720px;
  margin:0 auto;
  padding:30px 20px;
  text-align:center;
}
.step{
  border:1px solid #eee;
  border-radius:14px;
  padding:20px;
  margin:14px 0;
  background:#fafafa;
}
h2{margin:0 0 6px;color:var(--accent);}
.timer{
  font-size:1.4rem;
  font-weight:700;
  margin:10px 0;
  color:#2a9d8f;
}
button{
  background:var(--highlight);
  color:#fff;
  border:none;
  border-radius:10px;
  padding:10px 16px;
  font-size:1rem;
  cursor:pointer;
  margin-top:10px;
}
button:hover{opacity:.9;}
footer{
  padding:14px;
  color:#888;
  border-top:1px solid #eee;
  font-size:.9rem;
  text-align:center;
}
</style>
<!-- header.html ì˜ </head> ë°”ë¡œ ìœ„ìª½ì— ì¶”ê°€ -->
<script src="https://unpkg.com/@supabase/supabase-js@2" defer></script>
<script type="module" src="/scripts/memory_policies.js" defer></script>
<link rel="manifest" href="/manifest.json">
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/service-worker.js')
      .then(reg => console.log('ServiceWorker registered:', reg))
      .catch(err => console.warn('ServiceWorker registration failed:', err));
  });
}
</script>

</head>
<body>

<header>ğŸŒ€ ìš¸ë¦¼ì²´ì¡° | Resonance Moves</header>

<main>
  <p>í•˜ë£¨ 3ë¶„, ìš¸ë¦¼ì„ ê¹¨ìš°ëŠ” ì§§ì€ ë£¨í‹´ì…ë‹ˆë‹¤.<br>í˜¸í¡ê³¼ ë°œì„±ì— ì§‘ì¤‘í•´ë³´ì„¸ìš”.</p>

  <div id="routine">
    <div class="step" data-min="0.5">
      <h2>â‘  ê¹Šì€ ìˆ¨ ë“¤ì´ì‰¬ê¸°</h2>
      <p>ì–´ê¹¨ì— í˜ì„ ë¹¼ê³ , ì½”ë¡œ ì²œì²œíˆ ìˆ¨ì„ ë“¤ì´ë§ˆì‹­ë‹ˆë‹¤.<br>5ì´ˆ ë™ì•ˆ ìœ ì§€í•˜ì„¸ìš”.</p>
      <div class="timer" id="timer1">00:00</div>
    </div>

    <div class="step" data-min="0.5">
      <h2>â‘¡ ê¸¸ê²Œ ë‚´ì‰¬ê¸°</h2>
      <p>ì…ìœ¼ë¡œ ì²œì²œíˆ ë‚´ì‰¬ë©° ë§ˆìŒì„ ê°€ë¼ì•‰í™ë‹ˆë‹¤.<br>í•œ í˜¸í¡ë§ˆë‹¤ 5ì´ˆ.</p>
      <div class="timer" id="timer2">00:00</div>
    </div>

    <div class="step" data-min="1">
      <h2>â‘¢ â€˜ì•„â€“â€™ ì†Œë¦¬ ë‚´ê¸°</h2>
      <p>ëª©ì„ í¸í•˜ê²Œ ì—´ê³ , ë‚®ì€ í†¤ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ë°œì„±í•©ë‹ˆë‹¤.<br>ê°€ëŠ¥í•˜ë‹¤ë©´ 1ë¶„ ì§€ì†.</p>
      <div class="timer" id="timer3">00:00</div>
    </div>

    <div class="step" data-min="1">
      <h2>â‘£ ê³µëª… ëŠë¼ê¸°</h2>
      <p>ê°€ìŠ´, ëª©, ì… ì•ˆì˜ ì§„ë™ì„ ê´€ì°°í•©ë‹ˆë‹¤.<br>ì†Œë¦¬ ì—†ì´ í˜¸í¡ë§Œ ì´ì–´ê°€ì„¸ìš”.</p>
      <div class="timer" id="timer4">00:00</div>
    </div>
  </div>

  <button id="start">ë£¨í‹´ ì‹œì‘</button>
  <div id="status" style="margin-top:12px;color:#555;"></div>
</main>

<footer>ë£¨ì›¨ì¸ ì–¸ì–´ì—°êµ¬ì†Œ Â· ìš¸ë¦¼ì˜ ì–¸ì–´ Â© 2025</footer>

<script>
const steps=document.querySelectorAll('.step');
const startBtn=document.getElementById('start');
const statusEl=document.getElementById('status');
let current=0,timerInt=null,sec=0;

function formatTime(s){
  const m=Math.floor(s/60).toString().padStart(2,'0');
  const ss=(s%60).toString().padStart(2,'0');
  return `${m}:${ss}`;
}

function runStep(){
  if(current>=steps.length){
    statusEl.textContent="âœ… ë£¨í‹´ì´ ëª¨ë‘ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ê³ í•˜ì…¨ì–´ìš”!";
    startBtn.disabled=false;
    return;
  }
  const step=steps[current];
  const dur=Math.round(parseFloat(step.dataset.min)*60);
  let t=0;
  statusEl.textContent=`${current+1}ë‹¨ê³„ ì§„í–‰ ì¤‘...`;
  timerInt=setInterval(()=>{
    t++;
    step.querySelector('.timer').textContent=formatTime(t);
    if(t>=dur){
      clearInterval(timerInt);
      current++;
      setTimeout(runStep,1000);
    }
  },1000);
}

startBtn.addEventListener('click',()=>{
  if(timerInt){clearInterval(timerInt);}
  steps.forEach(s=>s.querySelector('.timer').textContent="00:00");
  current=0;
  statusEl.textContent="ë£¨í‹´ì„ ì‹œì‘í•©ë‹ˆë‹¤...";
  startBtn.disabled=true;
  setTimeout(runStep,800);
});
</script>
<!-- âœ… í—¤ë” -->
<div id="luwein-header"></div>
<script>
(async()=>{
  const paths=["../includes/header.html","../../includes/header.html","/includes/header.html"];
  for(const p of paths){
    try{
      const r=await fetch(p,{cache:"no-cache"});
      if(r.ok){document.getElementById("luwein-header").innerHTML=await r.text();return;}
    }catch(e){}
  }
})();
</script>

<!-- âœ… í‘¸í„° -->
<div id="luwein-footer"></div>
<script>
(async()=>{
  const paths=["../includes/footer.html","../../includes/footer.html","/includes/footer.html"];
  for(const p of paths){
    try{
      const r=await fetch(p,{cache:"no-cache"});
      if(r.ok){document.getElementById("luwein-footer").innerHTML=await r.text();return;}
    }catch(e){}
  }
})();
</script>
</body>
</html>
